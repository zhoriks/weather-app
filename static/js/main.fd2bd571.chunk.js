(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,n){e.exports=n(36)},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),c=n(5),s=n(1),l=n(3),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INFORMATION":return Object(l.a)({},e,{isLoaded:t.payload.isLoaded,recommendation:t.payload.recommendation,result:t.payload.result});case"SET_RECOMMENDATION":return Object(l.a)({},e,{recommendation:t.payload});case"SET_CHANGE":return Object(l.a)({},e,{value:t.payload.value});case"SUBMIT__VALUE":return Object(l.a)({},e,{value:t.payload});case"SET_ERROR":return Object(l.a)({},e,{error:t.payload.error});default:return e}},u=Object(s.b)({form:m}),d=Object(s.c)(u,{form:{isLoaded:!1,recommendation:"",value:""}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),h=(n(28),n(9)),p=n.n(h),f=n(12),v=n(13),E=n(14),_=n(2),b=n(16),y=n(15);n(30),n(31);var O=function(e){return a.createElement("section",{className:"information"},a.createElement("div",{className:"information__text"},"\u041f\u043e\u0433\u043e\u0434\u0430 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435: ",e.city),a.createElement("div",{className:"information__text"},"\u0417\u0430 \u043e\u043a\u043d\u043e\u043c: ",e.weather),a.createElement("div",{className:"information__text"},"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.temp,"\xb0"),a.createElement("div",{className:"information__text"},"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",e.humidity,"%"),a.createElement("div",{className:"information__text"},"\u0412\u0435\u0442\u0435\u0440: ",e.wind," \u043c/\u0441"))};n(32);var N=function(e){return a.createElement("div",{className:"helper"},e.clothes)};n(33);var w=function(e){return a.createElement("div",{className:"error"},a.createElement("div",{className:"error__text"},"\u0422\u0430\u043a\u043e\u0439 \u0433\u043e\u0440\u043e\u0434 \u043e\u0442\u044b\u0441\u043a\u0430\u0442\u044c \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c :("),a.createElement("button",{className:"error__button",onClick:e.handleReset},"\u0415\u0449\u0435"))};var g=function(e){return e.error?a.createElement(w,{handleReset:e.handleReset}):a.createElement("main",{className:"content"},a.createElement("form",{className:"form",onSubmit:e.handleSubmit},a.createElement("div",{className:"form__text"},"\u0413\u0434\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443?"),a.createElement("input",{className:"form__input",type:"text",value:e.value,onChange:e.handleChange,placeholder:" \u0413\u043e\u0440\u043e\u0434"}),a.createElement("input",{className:"form__button",type:"submit",value:"\u0423\u0437\u043d\u0430\u0442\u044c"})),e.isLoaded&&a.createElement(O,{city:e.result.name,weather:e.result.weather[0].description,temp:e.result.main.temp,humidity:e.result.main.humidity,wind:e.result.wind.speed}),e.isLoaded&&a.createElement(N,{clothes:e.recommendation}))};var R=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(_.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(_.a)(a)),a.handleReset=a.handleReset.bind(Object(_.a)(a)),a}return Object(E.a)(n,[{key:"handleChange",value:function(e){this.props.setChange({value:e.target.value}),(e.target.value.length||0===e.target.value.length)&&this.props.loadInformation({recommendation:""})}},{key:"handleReset",value:function(e){this.props.setError({error:""})}},{key:"handleSubmit",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch((o=this.props.value,"https://api.openweathermap.org/data/2.5/weather?q=".concat(o,"&appid=9190638005eccb8c3ab7c13acd670d43&lang=ru&units=metric")));case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,r=this.getRecommendation(a),this.props.setRecommendation(r),this.props.loadInformation({isLoaded:!0,recommendation:r,result:a}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),this.props.setError({error:e.t0});case 16:case"end":return e.stop()}var o}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendation",value:function(e){var t="";return("\u0434\u043e\u0436\u0434\u044c"===e.weather||"\u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0434\u043e\u0436\u0434\u044c"===e.weather)&&e.temp>=18?t="\u041d\u0430 \u0443\u043b\u0438\u0446\u0435 \u0442\u0435\u043f\u043b\u043e, \u043d\u043e \u0432\u043e\u0437\u044c\u043c\u0438\u0442\u0435 \u0437\u043e\u043d\u0442":e.main.temp>=18?t="\u041d\u0430 \u0443\u043b\u0438\u0446\u0435 \u0442\u0435\u043f\u043b\u043e :)":"\u0434\u043e\u0436\u0434\u044c"===e.weather?t="\u0412\u043e\u0437\u044c\u043c\u0438\u0442\u0435 \u0437\u043e\u043d\u0442":e.main.temp<=17&&e.main.temp>=0?t="\u041d\u0430 \u0443\u043b\u0438\u0446\u0435 \u043f\u0440\u043e\u0445\u043b\u0430\u0434\u043d\u043e, \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u0441\u044c":e.main.temp<0?t="\u041d\u0430 \u0443\u043b\u0438\u0446\u0435 \u0445\u043e\u043b\u043e\u0434\u043d\u043e! \u041e\u0434\u0435\u043d\u044c\u0442\u0435\u0441\u044c \u0442\u0435\u043f\u043b\u043e!":e.main.temp<-30&&(t="\u041d\u0430 \u0443\u043b\u0438\u0446\u0435 \u043e\u0447\u0435\u043d\u044c \u0445\u043e\u043b\u043e\u0434\u043d\u043e! \u041e\u0441\u0442\u0430\u043d\u044c\u0442\u0435\u0441\u044c \u0434\u043e\u043c\u0430!"),t}},{key:"render",value:function(){return a.createElement(g,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleReset:this.handleReset,isLoaded:this.props.isLoaded,result:this.props.result,recommendation:this.props.recommendation,error:this.props.error})}}]),n}(a.Component),S=Object(c.b)((function(e){return{isLoaded:e.form.isLoaded,result:e.form.result,recommendation:e.form.recommendation,weather:e.form.weather,value:e.form.value,error:e.form.error}}),(function(e){return{loadInformation:function(t){return e(function(e){return{type:"LOAD_INFORMATION",payload:e}}(t))},setRecommendation:function(t){return e(function(e){return{type:"SET_RECOMMENDATION",payload:e}}(t))},setChange:function(t){return e(function(e){return{type:"SET_CHANGE",payload:e}}(t))},submitValue:function(t){return e(function(e){return{type:"SUBMIT_VALUE",payload:e}}(t))},setError:function(t){return e(function(e){return{type:"SET_ERROR",payload:e}}(t))}}}))(R);n(34),n(35);var j=function(){return a.createElement(S,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,{store:d},r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.fd2bd571.chunk.js.map